@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Inter font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

/* ========================================
   CLEAN MINIMAL DESIGN SYSTEM
   Focus: Data Visualization & Whitespace
======================================== */

@layer base {
  :root {
    /* Core colors */
    --brand: 207 91% 49%;
    --brand-light: 207 100% 96%;
    --surface-0: 0 0% 100%;
    --surface-50: 210 20% 99%;
    --surface-100: 210 17% 97%;
    --surface-200: 210 14% 93%;
    --content-primary: 216 14% 11%;
    --content-secondary: 215 17% 44%;
    --content-tertiary: 219 14% 64%;
    --success: 153 100% 39%;
    --danger: 352 100% 62%;
    --warning: 40 100% 50%;
    --radius: 12px;
  }

  * {
    @apply border-surface-200;
  }

  html {
    @apply scroll-smooth;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply bg-surface-50 text-content-primary font-sans antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  /* Improved focus states */
  :focus-visible {
    @apply outline-none ring-2 ring-brand-500 ring-offset-2 ring-offset-surface-0;
  }

  ::selection {
    @apply bg-brand-100 text-brand-900;
  }
}

/* ========================================
   COMPONENT CLASSES
======================================== */

@layer components {
  /* === CARDS === */
  .card {
    @apply bg-surface-0 rounded-xl border border-surface-200 transition-all duration-200;
  }

  .card-elevated {
    @apply bg-surface-0 rounded-xl shadow-sm border border-surface-100 transition-all duration-200;
  }

  .card-elevated:hover {
    @apply shadow-md;
  }

  .card-interactive {
    @apply bg-surface-0 rounded-xl border border-surface-200 transition-all duration-200 cursor-pointer;
  }

  .card-interactive:hover {
    @apply border-brand-200 shadow-md;
  }

  /* === BUTTONS === */
  .btn {
    @apply inline-flex items-center justify-center gap-2 font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn px-5 py-2.5 rounded-lg bg-brand-500 text-white hover:bg-brand-600 active:bg-brand-700 shadow-sm hover:shadow;
  }

  .btn-secondary {
    @apply btn px-5 py-2.5 rounded-lg bg-surface-0 text-content-primary border border-surface-200 hover:bg-surface-50 hover:border-surface-300 active:bg-surface-100;
  }

  .btn-ghost {
    @apply btn px-4 py-2 rounded-lg text-content-secondary hover:bg-surface-100 hover:text-content-primary active:bg-surface-200;
  }

  .btn-danger {
    @apply btn px-5 py-2.5 rounded-lg bg-danger text-white hover:bg-danger-dark active:bg-red-700 shadow-sm;
  }

  .btn-success {
    @apply btn px-5 py-2.5 rounded-lg bg-success text-white hover:bg-success-dark active:bg-green-700 shadow-sm;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-caption;
  }

  .btn-lg {
    @apply px-6 py-3 text-body-lg;
  }

  .btn-icon {
    @apply p-2 rounded-lg text-content-secondary hover:bg-surface-100 hover:text-content-primary transition-colors;
  }

  /* === INPUTS === */
  .input {
    @apply w-full px-4 py-2.5 rounded-lg bg-surface-0 border border-surface-200 text-content-primary placeholder:text-content-tertiary transition-all duration-200;
    @apply focus:outline-none focus:border-brand-400 focus:ring-2 focus:ring-brand-100;
  }

  .input-lg {
    @apply px-4 py-3.5 text-body-lg;
  }

  .input-with-icon {
    @apply pl-11;
  }

  .select {
    @apply input appearance-none bg-no-repeat cursor-pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%238f9bb3' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
    background-position: right 12px center;
    padding-right: 40px;
  }

  /* === BADGES === */
  .badge {
    @apply inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-tiny font-semibold;
  }

  .badge-default {
    @apply badge bg-surface-100 text-content-secondary;
  }

  .badge-brand {
    @apply badge bg-brand-50 text-brand-600;
  }

  .badge-success {
    @apply badge bg-success-light text-success-dark;
  }

  .badge-danger {
    @apply badge bg-danger-light text-danger-dark;
  }

  .badge-warning {
    @apply badge bg-warning-light text-warning-dark;
  }

  /* === METRIC CARDS (for data viz) === */
  .metric-card {
    @apply card-elevated p-5;
  }

  .metric-label {
    @apply text-caption font-medium text-content-secondary mb-1;
  }

  .metric-value {
    @apply text-heading-lg font-bold text-content-primary tracking-tight;
  }

  .metric-change {
    @apply text-caption font-semibold flex items-center gap-1 mt-1;
  }

  .metric-change-up {
    @apply metric-change text-success;
  }

  .metric-change-down {
    @apply metric-change text-danger;
  }

  /* === DATA TABLE === */
  .table-container {
    @apply overflow-x-auto rounded-xl border border-surface-200;
  }

  .table {
    @apply w-full text-left;
  }

  .table th {
    @apply px-4 py-3 text-caption font-semibold text-content-secondary bg-surface-50 border-b border-surface-200;
  }

  .table td {
    @apply px-4 py-3 text-body text-content-primary border-b border-surface-100;
  }

  .table tr:last-child td {
    @apply border-b-0;
  }

  .table tr:hover td {
    @apply bg-surface-50;
  }

  /* === NAVIGATION === */
  .nav-item {
    @apply flex items-center gap-3 px-3 py-2.5 rounded-lg text-body font-medium text-content-secondary transition-all duration-150;
  }

  .nav-item:hover {
    @apply bg-surface-100 text-content-primary;
  }

  .nav-item-active {
    @apply nav-item bg-brand-50 text-brand-600;
  }

  .nav-item-active:hover {
    @apply bg-brand-100;
  }

  /* === SECTION HEADERS === */
  .section-header {
    @apply flex items-center justify-between mb-4;
  }

  .section-title {
    @apply text-heading font-semibold text-content-primary;
  }

  .section-subtitle {
    @apply text-caption text-content-secondary mt-0.5;
  }

  /* === PAGE HEADER === */
  .page-header {
    @apply mb-8;
  }

  .page-title {
    @apply text-display font-bold text-content-primary tracking-tight;
  }

  .page-subtitle {
    @apply text-body-lg text-content-secondary mt-1;
  }

  /* === SKELETON LOADING === */
  .skeleton {
    @apply bg-surface-200 rounded animate-pulse;
  }

  .skeleton-text {
    @apply skeleton h-4 w-full;
  }

  .skeleton-heading {
    @apply skeleton h-8 w-3/4;
  }

  /* === EMPTY STATE === */
  .empty-state {
    @apply flex flex-col items-center justify-center py-16 text-center;
  }

  .empty-state-icon {
    @apply w-16 h-16 rounded-2xl bg-surface-100 flex items-center justify-center mb-4;
  }

  .empty-state-title {
    @apply text-heading font-semibold text-content-primary mb-1;
  }

  .empty-state-text {
    @apply text-body text-content-secondary max-w-sm;
  }

  /* === CHART STYLES === */
  .chart-container {
    @apply card-elevated p-6;
  }

  .chart-header {
    @apply flex items-center justify-between mb-6;
  }

  .chart-title {
    @apply text-heading font-semibold text-content-primary;
  }

  /* === MODAL === */
  .modal-overlay {
    @apply fixed inset-0 bg-content-primary/40 backdrop-blur-sm z-50 flex items-center justify-center p-4;
  }

  .modal {
    @apply bg-surface-0 rounded-2xl shadow-xl max-w-md w-full animate-scale-in;
  }

  .modal-header {
    @apply p-6 border-b border-surface-100;
  }

  .modal-body {
    @apply p-6;
  }

  .modal-footer {
    @apply px-6 py-4 bg-surface-50 rounded-b-2xl flex items-center justify-end gap-3;
  }

  /* === DROPDOWN === */
  .dropdown {
    @apply absolute z-50 mt-1 w-full bg-surface-0 rounded-xl shadow-lg border border-surface-200 py-1 animate-slide-down;
  }

  .dropdown-item {
    @apply px-4 py-2.5 text-body text-content-primary hover:bg-surface-50 cursor-pointer transition-colors;
  }

  .dropdown-item-active {
    @apply dropdown-item bg-brand-50 text-brand-600;
  }

  /* === TABS === */
  .tabs {
    @apply flex gap-1 p-1 bg-surface-100 rounded-lg;
  }

  .tab {
    @apply px-4 py-2 rounded-md text-body font-medium text-content-secondary transition-all;
  }

  .tab:hover {
    @apply text-content-primary;
  }

  .tab-active {
    @apply tab bg-surface-0 text-content-primary shadow-sm;
  }

  /* === TOOLTIP === */
  .tooltip {
    @apply absolute z-50 px-3 py-2 bg-content-primary text-content-inverse text-caption rounded-lg shadow-lg animate-fade-in;
  }

  /* === DIVIDER === */
  .divider {
    @apply border-t border-surface-200 my-4;
  }

  /* === AVATAR === */
  .avatar {
    @apply w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-semibold;
  }

  .avatar-sm {
    @apply w-8 h-8 text-caption;
  }

  .avatar-lg {
    @apply w-12 h-12 text-body-lg;
  }

  /* === PRICE DISPLAY === */
  .price-up {
    @apply text-success font-semibold;
  }

  .price-down {
    @apply text-danger font-semibold;
  }

  .price-neutral {
    @apply text-content-primary font-semibold;
  }

  /* === POSITION CARD === */
  .position-card {
    @apply card p-4 hover:border-surface-300 transition-all;
  }

  /* === ALERT CARD === */
  .alert-card {
    @apply card p-4 border-l-4;
  }

  .alert-card-success {
    @apply alert-card border-l-success bg-success-light/30;
  }

  .alert-card-danger {
    @apply alert-card border-l-danger bg-danger-light/30;
  }

  .alert-card-warning {
    @apply alert-card border-l-warning bg-warning-light/30;
  }
}

/* ========================================
   UTILITIES
======================================== */

@layer utilities {
  /* Scrollbar styling */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.surface.300') transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: theme('colors.surface.300');
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: theme('colors.content.tertiary');
  }

  /* Hide scrollbar */
  .scrollbar-none {
    scrollbar-width: none;
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  /* Gradient text */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-brand-500 to-brand-700;
  }

  /* Truncate multi-line */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Number tabular figures */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }
}

/* ========================================
   RECHARTS CUSTOMIZATION
======================================== */

.recharts-wrapper {
  font-family: inherit;
}

.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line {
  stroke: theme('colors.surface.200');
}

.recharts-tooltip-wrapper {
  outline: none;
}

.recharts-default-tooltip {
  @apply bg-surface-0 border border-surface-200 rounded-lg shadow-lg !important;
  padding: 12px 16px !important;
}

.recharts-tooltip-label {
  @apply text-content-primary font-semibold mb-2 !important;
}

.recharts-tooltip-item {
  @apply text-content-secondary !important;
}

/* ========================================
   GLOBAL SCROLLBAR (optional)
======================================== */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: theme('colors.surface.100');
}

::-webkit-scrollbar-thumb {
  background: theme('colors.surface.300');
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: theme('colors.content.tertiary');
}
